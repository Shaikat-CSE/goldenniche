{% load static %}
<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		 <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

		<title>Golden Niche</title>

		<!-- Favicon -->
		<link rel="icon" type="image/png" href="{% static 'img/favicon-32x32.png' %}">
		<link rel="shortcut icon" href="{% static 'img/favicon.ico' %}">

		<!-- Google font -->
		<link href="https://fonts.googleapis.com/css?family=Montserrat:400,500,700" rel="stylesheet">

		<!-- Bootstrap -->
		<link type="text/css" rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}"/>

		<!-- Slick -->
		<link type="text/css" rel="stylesheet" href="{% static 'css/slick.css' %}"/>
		<link type="text/css" rel="stylesheet" href="{% static 'css/slick-theme.css' %}"/>

		<!-- nouislider -->
		<link type="text/css" rel="stylesheet" href="{% static 'css/nouislider.min.css' %}"/>

		<!-- Font Awesome Icon -->
		<link rel="stylesheet" href="{% static 'css/font-awesome.min.css' %}">

		<!-- Custom stlylesheet -->
		<link type="text/css" rel="stylesheet" href="{% static 'css/style.css' %}"/>
		
		<!-- Spacing fixes -->
		<style>
			.shop-section {
				padding-top: 5px !important;
				padding-bottom: 0 !important;
			}
			.section {
				padding-top: 30px;
				padding-bottom: 30px;
			}
			.shop-section + .section {
				padding-top: 10px;
			}
			.blog-post {
				margin-bottom: 30px;
				box-shadow: 0 2px 5px rgba(0,0,0,0.1);
				border-radius: 5px;
				overflow: hidden;
				padding-bottom: 15px;
			}
			.featured-post {
				padding: 20px;
				background-color: #f9f9f9;
				border-radius: 5px;
				box-shadow: 0 3px 10px rgba(0,0,0,0.1);
			}
			.post-meta {
				color: #888;
				font-size: 0.9em;
				margin-bottom: 15px;
			}
			.blog-sidebar {
				background-color: #f5f5f5;
				padding: 20px;
				border-radius: 5px;
				height: 100%;
			}
			.blog-sidebar h4 {
				margin-bottom: 15px;
				border-bottom: 2px solid #D10024;
				padding-bottom: 10px;
				color: #2B2D42;
			}
			.recent-posts, .blog-categories {
				list-style-type: none;
				padding-left: 0;
				margin-bottom: 30px;
			}
			.recent-posts li, .blog-categories li {
				margin-bottom: 10px;
				padding-bottom: 10px;
				border-bottom: 1px solid #e4e7ed;
			}
			.recent-posts li a, .blog-categories li a {
				color: #2B2D42;
				transition: all 0.3s;
			}
			.recent-posts li a:hover, .blog-categories li a:hover {
				color: #D10024;
				padding-left: 5px;
			}
			.read-more {
				color: #D10024;
				font-weight: 500;
				display: inline-block;
				margin-top: 10px;
			}
			.read-more:hover {
				text-decoration: underline;
			}
			.category-header {
				background-color: #f9f9f9;
				padding: 30px;
				border-radius: 5px;
				margin-bottom: 30px;
				border-left: 4px solid #D10024;
			}
			
			/* Testimonial Slider Styles */
			.testimonials-slider .slick-prev,
			.testimonials-slider .slick-next {
				background-color: #D10024;
				width: 40px;
				height: 40px;
				border-radius: 50%;
				z-index: 10;
				transition: all 0.3s;
			}
			
			.testimonials-slider .slick-prev {
				left: -20px;
			}
			
			.testimonials-slider .slick-next {
				right: -20px;
			}
			
			.testimonials-slider .slick-prev:hover,
			.testimonials-slider .slick-next:hover {
				background-color: #2B2D42;
				box-shadow: 0 5px 15px rgba(0,0,0,0.2);
			}
			
			.testimonials-slider .slick-dots li button:before {
				font-size: 12px;
				color: #D10024;
				opacity: 0.5;
			}
			
			.testimonials-slider .slick-dots li.slick-active button:before {
				color: #D10024;
				opacity: 1;
			}
		</style>

		<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
		<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
		<!--[if lt IE 9]>
		  <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
		  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
		<![endif]-->

    </head>
	<body>
		{% include 'store/header.html' %}

<!-- CAROUSEL SECTION -->
<!-- Desktop Carousel - visible on desktop screens only (>991px), hidden on mobile -->
<div id="main-carousel" class="desktop-only-carousel carousel slide hide-on-mobile" data-ride="carousel">
    <!-- Indicators -->
    <ol class="carousel-indicators">
        <li data-target="#main-carousel" data-slide-to="0" class="active"></li>
        <li data-target="#main-carousel" data-slide-to="1"></li>
        <li data-target="#main-carousel" data-slide-to="2"></li>
        <li data-target="#main-carousel" data-slide-to="3"></li>
        <li data-target="#main-carousel" data-slide-to="4"></li>
    </ol>

    <!-- Wrapper for slides -->
    <div class="carousel-inner">
        <div class="item active">
            <img src="{% static 'img/carousel1.png' %}" alt="Carousel 1">
        </div>

        <div class="item">
            <img src="{% static 'img/carousel2.png' %}" alt="Carousel 2">
        </div>

        <div class="item">
            <img src="{% static 'img/carousel3.png' %}" alt="Carousel 3">
        </div>

        <div class="item">
            <img src="{% static 'img/carousel4.png' %}" alt="Carousel 4">
        </div>

        <div class="item">
            <img src="{% static 'img/carousel5.png' %}" alt="Carousel 5">
        </div>
    </div>

    <!-- Controls -->
    <a class="left carousel-control" href="#main-carousel" data-slide="prev">
        <span class="glyphicon glyphicon-chevron-left"></span>
        <span class="sr-only">Previous</span>
    </a>
    <a class="right carousel-control" href="#main-carousel" data-slide="next">
        <span class="glyphicon glyphicon-chevron-right"></span>
        <span class="sr-only">Next</span>
    </a>
</div>

<!-- Mobile Category Carousel - visible only on mobile devices -->
<div id="mobile-category-carousel" class="carousel slide" data-ride="carousel" style="display: none; margin-top: 20px;">
    <div class="container">
        <!-- Indicators -->
        <ol class="carousel-indicators">
            <li data-target="#mobile-category-carousel" data-slide-to="0" class="active"></li>
            <li data-target="#mobile-category-carousel" data-slide-to="1"></li>
            <li data-target="#mobile-category-carousel" data-slide-to="2"></li>
            <li data-target="#mobile-category-carousel" data-slide-to="3"></li>
            <li data-target="#mobile-category-carousel" data-slide-to="4"></li>
        </ol>

        <!-- Wrapper for slides -->
        <div class="carousel-inner">
            <div class="item active">
                <img src="{% static 'img/mobilecarouselspices.png' %}" alt="Spices">
            </div>

            <div class="item">
                <img src="{% static 'img/mobilecarouselfruits.png' %}" alt="Fruits">
            </div>

            <div class="item">
                <img src="{% static 'img/mobilecarouselcookwares.png' %}" alt="Cookwares">
            </div>

            <div class="item">
                <img src="{% static 'img/mobilecarouselhomedecors.png' %}" alt="Home Decors">
            </div>

            <div class="item">
                <img src="{% static 'img/mobilecarouselbakery.png' %}" alt="Bakery Ingredients">
            </div>
        </div>

        <!-- Controls -->
        <a class="left carousel-control" href="#mobile-category-carousel" data-slide="prev">
            <span class="glyphicon glyphicon-chevron-left"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="right carousel-control" href="#mobile-category-carousel" data-slide="next">
            <span class="glyphicon glyphicon-chevron-right"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>
</div>

<!-- Mobile Category Header - visible only on mobile devices -->
<div class="container">
    <div class="mobile-category-header" style="display: none;">
        <div class="row">
            <div class="col-xs-6">
                <h4 class="category-title">Top Categories</h4>
            </div>
            <div class="col-xs-6 text-right">
                <button class="btn-view-all menu-toggle">View All</button>
            </div>
        </div>
    </div>
</div>

<!-- Mobile Carousel - hidden on all devices per current requirements -->
<div id="mobile-carousel" class="mobile-only-carousel carousel slide hide-on-mobile" data-ride="carousel">
    <!-- Indicators -->
    <ol class="carousel-indicators">
        <li data-target="#mobile-carousel" data-slide-to="0" class="active"></li>
        <li data-target="#mobile-carousel" data-slide-to="1"></li>
        <li data-target="#mobile-carousel" data-slide-to="2"></li>
        <li data-target="#mobile-carousel" data-slide-to="3"></li>
        <li data-target="#mobile-carousel" data-slide-to="4"></li>
    </ol>

    <!-- Wrapper for slides -->
    <div class="carousel-inner">
        <div class="item active">
            <img src="{% static 'img/carousel1.png' %}" alt="Carousel 1">
            <div class="mobile-carousel-caption">
                <h3>Exclusive Deals</h3>
                <p>Shop our special offers today</p>
                <a href="{% url 'hot_deals' %}" class="btn-discover">Discover Now</a>
            </div>
        </div>

        <div class="item">
            <img src="{% static 'img/carousel2.png' %}" alt="Carousel 2">
            <div class="mobile-carousel-caption">
                <h3>Premium Quality</h3>
                <p>Explore our finest selection</p>
                <a href="{% url 'premium_fruits' %}" class="btn-discover">Shop Now</a>
            </div>
        </div>

        <div class="item">
            <img src="{% static 'img/carousel3.png' %}" alt="Carousel 3">
            <div class="mobile-carousel-caption">
                <h3>New Arrivals</h3>
                <p>Check out our latest products</p>
                <a href="{% url 'retiqo_spices' %}" class="btn-discover">View Collection</a>
            </div>
        </div>

        <div class="item">
            <img src="{% static 'img/carousel4.png' %}" alt="Carousel 4">
            <div class="mobile-carousel-caption">
                <h3>Kitchen Essentials</h3>
                <p>Everything you need for cooking</p>
                <a href="{% url 'prestige_cookware' %}" class="btn-discover">Explore Now</a>
            </div>
        </div>

        <div class="item">
            <img src="{% static 'img/carousel5.png' %}" alt="Carousel 5">
            <div class="mobile-carousel-caption">
                <h3>Special Selection</h3>
                <p>Handpicked for your home</p>
                <a href="{% url 'home_decor' %}" class="btn-discover">Browse All</a>
            </div>
        </div>
    </div>

    <!-- Controls -->
    <a class="left carousel-control" href="#mobile-carousel" data-slide="prev">
        <span class="glyphicon glyphicon-chevron-left"></span>
        <span class="sr-only">Previous</span>
    </a>
    <a class="right carousel-control" href="#mobile-carousel" data-slide="next">
        <span class="glyphicon glyphicon-chevron-right"></span>
        <span class="sr-only">Next</span>
    </a>
</div>
<!-- /CAROUSEL SECTION -->

<!-- SECTION -->
<div class="section shop-section">
	<!-- container -->
	<div class="container">
		<!-- row -->
		<div class="row">
			<!-- shop tiles -->
			<div class="col-md-12">
				<div class="five-shop-container">
					<div class="row">
						<div class="col-md-5th col-xs-6">
							<div class="shop">
								<div class="shop-img">
									<img src="{% static 'img/spice.png' %}" alt="">
								</div>
								<div class="shop-body">
									<h3>Spices</h3>
									<a href="{% url 'retiqo_spices' %}" class="cta-btn">Shop Now<i class="fa fa-arrow-right"></i></a>
								</div>
							</div>
						</div>
						<!-- /shop -->

						<!-- shop -->
						<div class="col-md-5th col-xs-6">
							<div class="shop">
								<div class="shop-img">
									<img src="{% static 'img/fruits.jpg' %}" alt="">
								</div>
								<div class="shop-body">
									<h3>Fruits</h3>
									<a href="{% url 'premium_fruits' %}" class="cta-btn">Shop Now<i class="fa fa-arrow-right"></i></a>
								</div>
							</div>
						</div>
						<!-- /shop -->

						<!-- shop -->
						<div class="col-md-5th col-xs-6">
							<div class="shop">
								<div class="shop-img">
									<img src="{% static 'img/cookware.jpg' %}" alt="">
								</div>
								<div class="shop-body">
									<h3>Cookwares</h3>
									<a href="{% url 'prestige_cookware' %}" class="cta-btn">Shop Now<i class="fa fa-arrow-right"></i></a>
								</div>
							</div>
						</div>
						<!-- /shop -->

						<!-- shop -->
						<div class="col-md-5th col-xs-6">
							<div class="shop">
								<div class="shop-img">
									<img src="{% static 'img/decor.jpg' %}" alt="">
								</div>
								<div class="shop-body">
									<h3>Home Decors</h3>
									<a href="{% url 'home_decor' %}" class="cta-btn">Shop Now<i class="fa fa-arrow-right"></i></a>
								</div>
							</div>
						</div>
						<!-- /shop -->
						
						<!-- shop -->
						<div class="col-md-5th col-xs-6">
							<div class="shop">
								<div class="shop-img">
									<img src="{% static 'img/bakery.png' %}" alt="">
								</div>
								<div class="shop-body">
									<h3>Bakery Ingr.</h3>
									<a href="{% url 'bakeryingredients' %}" class="cta-btn">Shop Now<i class="fa fa-arrow-right"></i></a>
								</div>
							</div>
						</div>
						<!-- /shop -->
					</div>
				</div>
			</div>
		</div>
		<!-- /row -->
	</div>
	<!-- /container -->
</div>
<!-- /SECTION -->

<!-- Custom Mobile Category Layout -->
<style>
/* Custom mobile layout for category tiles - Only affects mobile view below 768px */
@media only screen and (max-width: 767px) {
    /* Container for better spacing */
    .five-shop-container {
        padding: 0 5px;
    }
    
    /* Display mobile category header */
    .mobile-category-header {
        display: flex !important;
    }
    
    /* Reset the original five-shop-container for mobile */
    .five-shop-container .col-md-5th.col-xs-6 {
        width: 50%; /* Default is two columns for xs */
        float: left;
    }
    
    /* Create custom mobile rows */
    .five-shop-container .row {
        display: flex;
        flex-wrap: wrap;
        margin-left: -5px;
        margin-right: -5px;
    }
    
    /* First tile - full width in first row */
    .five-shop-container .col-md-5th.col-xs-6:nth-child(1) {
        width: 100%;
        padding-left: 5px;
        padding-right: 5px;
        margin-bottom: 10px;
        clear: both;
    }
    
    /* First tile shop image - larger */
    .five-shop-container .col-md-5th.col-xs-6:nth-child(1) .shop-img {
        height: 180px;
    }
    
    /* Row 2: tiles 2 and 3 */
    .five-shop-container .col-md-5th.col-xs-6:nth-child(2),
    .five-shop-container .col-md-5th.col-xs-6:nth-child(3) {
        margin-bottom: 10px;
    }
    
    /* Row 3: tiles 4 and 5 */
    .five-shop-container .col-md-5th.col-xs-6:nth-child(4),
    .five-shop-container .col-md-5th.col-xs-6:nth-child(5) {
        margin-bottom: 0;
    }
    
    /* All tiles - ensure padding consistency */
    .five-shop-container .col-md-5th.col-xs-6 {
        padding-left: 5px;
        padding-right: 5px;
        box-sizing: border-box;
    }
    
    /* Other tiles - standard height */
    .five-shop-container .col-md-5th.col-xs-6:not(:nth-child(1)) .shop-img {
        height: 120px;
    }
    
    /* Shop styling for consistent appearance */
    .five-shop-container .shop {
        margin-bottom: 0;
        height: 100%;
        background-color: #f9f9f9;
        box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    
    /* Shop image styling */
    .five-shop-container .shop-img {
        width: 100%;
        overflow: hidden;
        position: relative;
    }
    
    .five-shop-container .shop-img img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        object-position: center;
    }
    
    /* Hide category titles on mobile */
    .five-shop-container .shop-body h3 {
        display: none;
    }
    
    /* Ensure consistent shop body styling */
    .shop-body {
        padding: 15px 10px;
    }
    
    /* Modify CTA buttons to include titles */
    .five-shop-container .col-md-5th.col-xs-6:nth-child(1) .shop-body .cta-btn:before {
        content: "Spices";
    }
    
    .five-shop-container .col-md-5th.col-xs-6:nth-child(2) .shop-body .cta-btn:before {
        content: "Fruits";
    }
    
    .five-shop-container .col-md-5th.col-xs-6:nth-child(3) .shop-body .cta-btn:before {
        content: "Cookwares";
    }
    
    .five-shop-container .col-md-5th.col-xs-6:nth-child(4) .shop-body .cta-btn:before {
        content: "Home Decors";
    }
    
    .five-shop-container .col-md-5th.col-xs-6:nth-child(5) .shop-body .cta-btn:before {
        content: "Bakery Ingr.";
    }
    
    /* Hide original button text on mobile */
    .five-shop-container .shop-body .cta-btn {
        font-size: 0;
    }
    
    .five-shop-container .shop-body .cta-btn i {
        display: none;
    }
    
    /* Style for the category names in buttons */
    .five-shop-container .shop-body .cta-btn:before {
        font-size: 14px;
        color: white;
        font-weight: 700;
        text-transform: uppercase;
        display: inline-block;
    }
    
    .five-shop-container .col-md-5th.col-xs-6:nth-child(1) .shop-body .cta-btn:before {
        font-size: 16px;
    }
    
    /* Adjust CTA button size to accommodate titles */
    .five-shop-container .col-md-5th.col-xs-6:nth-child(1) .cta-btn {
        font-size: 0;
        width: auto;
        padding: 8px 20px;
        white-space: nowrap;
        text-align: center;
        display: inline-block;
        background-color: #D10024;
        border-radius: 30px;
        box-shadow: 0 4px 8px rgba(209, 0, 36, 0.3);
        transition: all 0.3s ease;
    }
    
    .five-shop-container .col-md-5th.col-xs-6:not(:nth-child(1)) .cta-btn {
        font-size: 0;
        width: auto;
        padding: 8px 15px;
        white-space: nowrap;
        text-align: center;
        display: inline-block;
        background-color: #D10024;
        border-radius: 30px;
        box-shadow: 0 4px 8px rgba(209, 0, 36, 0.3);
        transition: all 0.3s ease;
    }
    
    /* Button hover effect */
    .five-shop-container .shop:hover .shop-body .cta-btn {
        background-color: white;
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
    }
    
    .five-shop-container .shop:hover .shop-body .cta-btn:before {
        color: #D10024;
    }
    
    /* Clear floats to ensure proper row structure */
    .five-shop-container .row:after {
        content: "";
        display: table;
        clear: both;
    }
    
    /* Mobile Category Carousel Styling */
    #mobile-category-carousel {
        display: block !important;
        margin-bottom: 10px;
    }
    
    #mobile-category-carousel .carousel-inner {
        border-radius: 8px;
        overflow: hidden;
        box-shadow: 0 3px 10px rgba(0,0,0,0.1);
    }
    
    #mobile-category-carousel .item {
        height: auto; /* Allow natural height */
        background-color: #f9f9f9;
    }
    
    #mobile-category-carousel .item img {
        width: 100%;
        height: auto; /* Allow natural height */
        object-fit: contain; /* Maintain aspect ratio */
        object-position: center;
    }
    
    /* Mobile Category Header Styling */
    .mobile-category-header {
        display: flex !important;
        justify-content: space-between;
        align-items: center;
        margin-top: 15px;
        margin-bottom: 15px;
        padding: 0 5px;
    }
    
    .mobile-category-header .row {
        width: 100%;
        display: flex;
        align-items: center;
        justify-content: space-between;
    }
    
    .mobile-category-header .category-title {
        font-size: 18px;
        font-weight: 700;
        color: #2B2D42;
        margin: 0;
        text-align: left;
    }
    
    .mobile-category-header .btn-view-all {
        background: none;
        border: none;
        color: #D10024;
        padding: 0;
        font-size: 14px;
        font-weight: 500;
        text-transform: none;
        box-shadow: none;
        cursor: pointer;
        transition: all 0.3s;
        display: flex;
        align-items: center;
        gap: 5px;
        margin-left: auto;
        text-align: right;
    }
    
    .mobile-category-header .btn-view-all:after {
        content: '>';
        font-size: 16px;
        font-weight: bold;
    }
    
    .mobile-category-header .btn-view-all:hover {
        background: none;
        color: #2B2D42;
    }
    
    #mobile-category-carousel .carousel-caption {
        background-color: rgba(0, 0, 0, 0.5);
        left: 0;
        right: 0;
        bottom: 0;
        padding: 15px;
        text-align: center;
    }
    
    #mobile-category-carousel .carousel-caption h3 {
        color: white;
        margin: 0 0 10px 0;
        font-size: 20px;
        font-weight: 700;
        text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5);
    }
    
    #mobile-category-carousel .carousel-caption .btn {
        background-color: #D10024;
        border-color: #D10024;
        border-radius: 30px;
        padding: 5px 15px;
        font-weight: 700;
        text-transform: uppercase;
        font-size: 12px;
        box-shadow: 0 4px 8px rgba(209, 0, 36, 0.3);
    }
    
    #mobile-category-carousel .carousel-caption .btn:hover {
        background-color: white;
        color: #D10024;
    }
    
    #mobile-category-carousel .carousel-indicators {
        bottom: 5px;
    }
    
    #mobile-category-carousel .carousel-indicators li {
        background-color: rgba(255, 255, 255, 0.5);
        border: 1px solid rgba(255, 255, 255, 0.8);
        width: 10px;
        height: 10px;
        margin: 0 3px;
    }
    
    #mobile-category-carousel .carousel-indicators li.active {
        background-color: #D10024;
        border-color: #D10024;
        width: 10px;
        height: 10px;
        margin: 0 3px;
    }
    
    #mobile-category-carousel .carousel-control {
        opacity: 0.7;
        background-image: none;
        width: 10%;
    }
    
    #mobile-category-carousel .carousel-control:hover {
        opacity: 1;
    }
}

/* Ensure desktop layout is not affected */
@media only screen and (min-width: 768px) {
    /* Original desktop classes remain in effect */
    .five-shop-container .col-md-5th {
        width: 20%;
        float: left;
    }
    
    /* Reset any mobile-specific styles */
    .five-shop-container .shop-img {
        height: auto !important;
    }
    
    .five-shop-container .shop-body h3 {
        font-size: inherit !important;
        display: block !important;
    }
    
    /* Restore original button text and icon */
    .five-shop-container .cta-btn {
        font-size: 14px !important;
    }
    
    .five-shop-container .shop-body .cta-btn i {
        display: inline-block !important;
    }
    
    /* Remove the before content on desktop */
    .five-shop-container .shop-body .cta-btn:before {
        content: none !important;
    }
    
    /* Hide mobile category carousel on desktop */
    #mobile-category-carousel {
        display: none !important;
    }
}
</style>

<!-- SECTION -->
<div class="section">
	<!-- container -->
	<div class="container">
		<!-- row -->
		<div class="row">

			<!-- section title -->
			<div class="col-md-12">
				<div class="section-title">
					<h3 class="title">Top selling</h3>
					<div class="section-nav">
						<ul class="section-tab-nav tab-nav">
							<li class="active"><a data-toggle="tab" href="#tab-spices">Spices</a></li>
							<li><a data-toggle="tab" href="#tab-fruits">Fruits</a></li>
							<li><a data-toggle="tab" href="#tab-cookware">Cookwares</a></li>
							<li><a data-toggle="tab" href="#tab-decor">Home Decors</a></li>
							<li><a data-toggle="tab" href="#tab-bakery">Bakery Ingredients</a></li>
						</ul>
					</div>
				</div>
			</div>
			<!-- /section title -->

			<!-- Products tab & slick -->
			<div class="col-md-12">
				<div class="row">
					<div class="products-tabs">
						<!-- Spices tab -->
						<div id="tab-spices" class="tab-pane fade in active">
							<div class="products-slick" data-nav="#slick-nav-spices">
								{% for product in products %}
								{% if 'Spice' in product.category.name %}
								<div class="product">
									<div class="product-img">
										{% if product.image and product.image.url %}
											<img src="{{ product.image.url }}" alt="{{ product.name }}">
										{% else %}
											<img src="{% static 'img/default-product.jpg' %}" alt="{{ product.name }}">
										{% endif %}
										<div class="product-label">
											{% if product.is_sale or product.discount_price and product.discount_price < product.price %}
												<span class="sale">-{{ product.get_discount_percentage }}%</span>
											{% endif %}
											{% if product.is_new %}
												<span class="new">NEW</span>
											{% endif %}
										</div>
									</div>
									<div class="product-body">
										<p class="product-category">{{ product.category.name }}</p>
										<h3 class="product-name">
											<a href="{% url 'product_detail' product.slug %}">{{ product.name }}</a>
										</h3>
										<h4 class="product-price">
											{% if product.discount_price %}
												৳{{ product.discount_price }} <del class="product-old-price">৳{{ product.price }}</del>
											{% else %}
												৳{{ product.price }}
											{% endif %}
										</h4>
										<div class="product-rating">
											{% for i in '12345'|make_list %}
												{% if forloop.counter <= product.rating %}
													<i class="fa fa-star"></i>
												{% else %}
													<i class="fa fa-star-o"></i>
												{% endif %}
											{% endfor %}
										</div>
										<div class="product-btns">
											<button class="add-to-wishlist" data-product-id="{{ product.id }}"><i class="fa fa-heart-o"></i><span class="tooltipp">add to wishlist</span></button>
											<button class="quick-view"><i class="fa fa-eye"></i><span class="tooltipp">quick view</span></button>
										</div>
									</div>
									<div class="add-to-cart">
										<button class="add-to-cart-btn" data-product-id="{{ product.id }}"><i class="fa fa-shopping-cart"></i> add to cart</button>
									</div>
								</div>
								{% endif %}
								{% endfor %}
							</div>
							<div id="slick-nav-spices" class="products-slick-nav"></div>
						</div>
						<!-- /Spices tab -->
						
						<!-- Fruits tab -->
						<div id="tab-fruits" class="tab-pane fade">
							<div class="products-slick" data-nav="#slick-nav-fruits">
								{% for product in products %}
								{% if 'Fruit' in product.category.name %}
								<div class="product">
									<div class="product-img">
										{% if product.image and product.image.url %}
											<img src="{{ product.image.url }}" alt="{{ product.name }}">
										{% else %}
											<img src="{% static 'img/default-product.jpg' %}" alt="{{ product.name }}">
										{% endif %}
										<div class="product-label">
											{% if product.is_sale or product.discount_price and product.discount_price < product.price %}
												<span class="sale">-{{ product.get_discount_percentage }}%</span>
											{% endif %}
											{% if product.is_new %}
												<span class="new">NEW</span>
											{% endif %}
										</div>
									</div>
									<div class="product-body">
										<p class="product-category">{{ product.category.name }}</p>
										<h3 class="product-name">
											<a href="{% url 'product_detail' product.slug %}">{{ product.name }}</a>
										</h3>
										<h4 class="product-price">
											{% if product.discount_price %}
												৳{{ product.discount_price }} <del class="product-old-price">৳{{ product.price }}</del>
											{% else %}
												৳{{ product.price }}
											{% endif %}
										</h4>
										<div class="product-rating">
											{% for i in '12345'|make_list %}
												{% if forloop.counter <= product.rating %}
													<i class="fa fa-star"></i>
												{% else %}
													<i class="fa fa-star-o"></i>
												{% endif %}
											{% endfor %}
										</div>
										<div class="product-btns">
											<button class="add-to-wishlist" data-product-id="{{ product.id }}"><i class="fa fa-heart-o"></i><span class="tooltipp">add to wishlist</span></button>
											<button class="quick-view"><i class="fa fa-eye"></i><span class="tooltipp">quick view</span></button>
										</div>
									</div>
									<div class="add-to-cart">
										<button class="add-to-cart-btn" data-product-id="{{ product.id }}"><i class="fa fa-shopping-cart"></i> add to cart</button>
									</div>
								</div>
								{% endif %}
								{% endfor %}
							</div>
							<div id="slick-nav-fruits" class="products-slick-nav"></div>
						</div>
						<!-- /Fruits tab -->
						
						<!-- Cookware tab -->
						<div id="tab-cookware" class="tab-pane fade">
							<div class="products-slick" data-nav="#slick-nav-cookware">
								{% for product in products %}
								{% if 'Cookware' in product.category.name %}
								<div class="product">
									<div class="product-img">
										{% if product.image and product.image.url %}
											<img src="{{ product.image.url }}" alt="{{ product.name }}">
										{% else %}
											<img src="{% static 'img/default-product.jpg' %}" alt="{{ product.name }}">
										{% endif %}
										<div class="product-label">
											{% if product.is_sale or product.discount_price and product.discount_price < product.price %}
												<span class="sale">-{{ product.get_discount_percentage }}%</span>
											{% endif %}
											{% if product.is_new %}
												<span class="new">NEW</span>
											{% endif %}
										</div>
									</div>
									<div class="product-body">
										<p class="product-category">{{ product.category.name }}</p>
										<h3 class="product-name">
											<a href="{% url 'product_detail' product.slug %}">{{ product.name }}</a>
										</h3>
										<h4 class="product-price">
											{% if product.discount_price %}
												৳{{ product.discount_price }} <del class="product-old-price">৳{{ product.price }}</del>
											{% else %}
												৳{{ product.price }}
											{% endif %}
										</h4>
										<div class="product-rating">
											{% for i in '12345'|make_list %}
												{% if forloop.counter <= product.rating %}
													<i class="fa fa-star"></i>
												{% else %}
													<i class="fa fa-star-o"></i>
												{% endif %}
											{% endfor %}
										</div>
										<div class="product-btns">
											<button class="add-to-wishlist" data-product-id="{{ product.id }}"><i class="fa fa-heart-o"></i><span class="tooltipp">add to wishlist</span></button>
											<button class="quick-view"><i class="fa fa-eye"></i><span class="tooltipp">quick view</span></button>
										</div>
									</div>
									<div class="add-to-cart">
										<button class="add-to-cart-btn" data-product-id="{{ product.id }}"><i class="fa fa-shopping-cart"></i> add to cart</button>
									</div>
								</div>
								{% endif %}
								{% endfor %}
							</div>
							<div id="slick-nav-cookware" class="products-slick-nav"></div>
						</div>
						<!-- /Cookware tab -->
						
						<!-- Home Decor tab -->
						<div id="tab-decor" class="tab-pane fade">
							<div class="products-slick" data-nav="#slick-nav-decor">
								{% for product in products %}
								{% if 'Decor' in product.category.name %}
								<div class="product">
									<div class="product-img">
										{% if product.image and product.image.url %}
											<img src="{{ product.image.url }}" alt="{{ product.name }}">
										{% else %}
											<img src="{% static 'img/default-product.jpg' %}" alt="{{ product.name }}">
										{% endif %}
										<div class="product-label">
											{% if product.is_sale or product.discount_price and product.discount_price < product.price %}
												<span class="sale">-{{ product.get_discount_percentage }}%</span>
											{% endif %}
											{% if product.is_new %}
												<span class="new">NEW</span>
											{% endif %}
										</div>
									</div>
									<div class="product-body">
										<p class="product-category">{{ product.category.name }}</p>
										<h3 class="product-name">
											<a href="{% url 'product_detail' product.slug %}">{{ product.name }}</a>
										</h3>
										<h4 class="product-price">
											{% if product.discount_price %}
												৳{{ product.discount_price }} <del class="product-old-price">৳{{ product.price }}</del>
											{% else %}
												৳{{ product.price }}
											{% endif %}
										</h4>
										<div class="product-rating">
											{% for i in '12345'|make_list %}
												{% if forloop.counter <= product.rating %}
													<i class="fa fa-star"></i>
												{% else %}
													<i class="fa fa-star-o"></i>
												{% endif %}
											{% endfor %}
										</div>
										<div class="product-btns">
											<button class="add-to-wishlist" data-product-id="{{ product.id }}"><i class="fa fa-heart-o"></i><span class="tooltipp">add to wishlist</span></button>
											<button class="quick-view"><i class="fa fa-eye"></i><span class="tooltipp">quick view</span></button>
										</div>
									</div>
									<div class="add-to-cart">
										<button class="add-to-cart-btn" data-product-id="{{ product.id }}"><i class="fa fa-shopping-cart"></i> add to cart</button>
									</div>
								</div>
								{% endif %}
								{% endfor %}
							</div>
							<div id="slick-nav-decor" class="products-slick-nav"></div>
						</div>
						<!-- /Home Decor tab -->
						
						<!-- Bakery tab -->
						<div id="tab-bakery" class="tab-pane fade">
							<div class="products-slick" data-nav="#slick-nav-bakery">
								{% for product in products %}
								{% if 'Bakery' in product.category.name %}
								<div class="product">
									<div class="product-img">
										{% if product.image and product.image.url %}
											<img src="{{ product.image.url }}" alt="{{ product.name }}">
										{% else %}
											<img src="{% static 'img/default-product.jpg' %}" alt="{{ product.name }}">
										{% endif %}
										<div class="product-label">
											{% if product.is_sale or product.discount_price and product.discount_price < product.price %}
												<span class="sale">-{{ product.get_discount_percentage }}%</span>
											{% endif %}
											{% if product.is_new %}
												<span class="new">NEW</span>
											{% endif %}
										</div>
									</div>
									<div class="product-body">
										<p class="product-category">{{ product.category.name }}</p>
										<h3 class="product-name">
											<a href="{% url 'product_detail' product.slug %}">{{ product.name }}</a>
										</h3>
										<h4 class="product-price">
											{% if product.discount_price %}
												৳{{ product.discount_price }} <del class="product-old-price">৳{{ product.price }}</del>
											{% else %}
												৳{{ product.price }}
											{% endif %}
										</h4>
										<div class="product-rating">
											{% for i in '12345'|make_list %}
												{% if forloop.counter <= product.rating %}
													<i class="fa fa-star"></i>
												{% else %}
													<i class="fa fa-star-o"></i>
												{% endif %}
											{% endfor %}
										</div>
										<div class="product-btns">
											<button class="add-to-wishlist" data-product-id="{{ product.id }}"><i class="fa fa-heart-o"></i><span class="tooltipp">add to wishlist</span></button>
											<button class="quick-view"><i class="fa fa-eye"></i><span class="tooltipp">quick view</span></button>
										</div>
									</div>
									<div class="add-to-cart">
										<button class="add-to-cart-btn" data-product-id="{{ product.id }}"><i class="fa fa-shopping-cart"></i> add to cart</button>
									</div>
								</div>
								{% endif %}
								{% endfor %}
							</div>
							<div id="slick-nav-bakery" class="products-slick-nav"></div>
						</div>
						<!-- /Bakery tab -->
					</div>
				</div>
			</div>
			<!-- /Products tab & slick -->
		</div>
		<!-- /row -->
	</div>
	<!-- /container -->
</div>
<!-- /SECTION -->

<!-- SECTION -->
<div class="section">
	<!-- container -->
	<div class="container">
		<!-- row -->
		<div class="row">
			<div class="col-md-4 col-xs-6">
				<div class="section-title">
					<h4 class="title">New Products</h4>
					<div class="section-nav">
						<div id="slick-nav-3" class="products-slick-nav"></div>
					</div>
				</div>

				<div class="products-widget-slick" data-nav="#slick-nav-3">
					<div>
						{% for product in new_arrivals|slice:":3" %}
						<!-- product widget -->
						<div class="product-widget">
							<div class="product-img">
								{% if product.image and product.image.url %}
									<img src="{{ product.image.url }}" alt="{{ product.name }}">
								{% else %}
									<img src="{% static 'img/default-product.jpg' %}" alt="{{ product.name }}">
								{% endif %}
							</div>
							<div class="product-body">
								<p class="product-category">{{ product.category.name }}</p>
								<h3 class="product-name">
									<a href="{% url 'product_detail' product.slug %}">{{ product.name }}</a>
								</h3>
								<h4 class="product-price">
									{% if product.discount_price %}
										৳{{ product.discount_price }} <del class="product-old-price">৳{{ product.price }}</del>
									{% else %}
										৳{{ product.price }}
									{% endif %}
								</h4>
							</div>
						</div>
						<!-- /product widget -->
						{% endfor %}
					</div>

					<div>
						{% for product in new_arrivals|slice:"3:6" %}
						<!-- product widget -->
						<div class="product-widget">
							<div class="product-img">
								{% if product.image and product.image.url %}
									<img src="{{ product.image.url }}" alt="{{ product.name }}">
								{% else %}
									<img src="{% static 'img/default-product.jpg' %}" alt="{{ product.name }}">
								{% endif %}
							</div>
							<div class="product-body">
								<p class="product-category">{{ product.category.name }}</p>
								<h3 class="product-name">
									<a href="{% url 'product_detail' product.slug %}">{{ product.name }}</a>
								</h3>
								<h4 class="product-price">
									{% if product.discount_price %}
										৳{{ product.discount_price }} <del class="product-old-price">৳{{ product.price }}</del>
									{% else %}
										৳{{ product.price }}
									{% endif %}
								</h4>
							</div>
						</div>
						<!-- /product widget -->
						{% endfor %}
					</div>
				</div>
			</div>

			<div class="col-md-4 col-xs-6">
				<div class="section-title">
					<h4 class="title">Sale Products</h4>
					<div class="section-nav">
						<div id="slick-nav-4" class="products-slick-nav"></div>
					</div>
				</div>

				<div class="products-widget-slick" data-nav="#slick-nav-4">
					<div>
						{% for product in hot_deals|slice:":3" %}
						<!-- product widget -->
						<div class="product-widget">
							<div class="product-img">
								{% if product.image and product.image.url %}
									<img src="{{ product.image.url }}" alt="{{ product.name }}">
								{% else %}
									<img src="{% static 'img/default-product.jpg' %}" alt="{{ product.name }}">
								{% endif %}
							</div>
							<div class="product-body">
								<p class="product-category">{{ product.category.name }}</p>
								<h3 class="product-name">
									<a href="{% url 'product_detail' product.slug %}">{{ product.name }}</a>
								</h3>
								<h4 class="product-price">
									{% if product.discount_price %}
										৳{{ product.discount_price }} <del class="product-old-price">৳{{ product.price }}</del>
									{% else %}
										৳{{ product.price }}
									{% endif %}
								</h4>
							</div>
						</div>
						<!-- /product widget -->
						{% endfor %}
					</div>

					<div>
						{% for product in hot_deals|slice:"3:6" %}
						<!-- product widget -->
						<div class="product-widget">
							<div class="product-img">
								{% if product.image and product.image.url %}
									<img src="{{ product.image.url }}" alt="{{ product.name }}">
								{% else %}
									<img src="{% static 'img/default-product.jpg' %}" alt="{{ product.name }}">
								{% endif %}
							</div>
							<div class="product-body">
								<p class="product-category">{{ product.category.name }}</p>
								<h3 class="product-name">
									<a href="{% url 'product_detail' product.slug %}">{{ product.name }}</a>
								</h3>
								<h4 class="product-price">
									{% if product.discount_price %}
										৳{{ product.discount_price }} <del class="product-old-price">৳{{ product.price }}</del>
									{% else %}
										৳{{ product.price }}
									{% endif %}
								</h4>
							</div>
						</div>
						<!-- /product widget -->
						{% endfor %}
					</div>
				</div>
			</div>

			<div class="col-md-4 col-xs-6">
				<div class="section-title">
					<h4 class="title">Top Products</h4>
					<div class="section-nav">
						<div id="slick-nav-5" class="products-slick-nav"></div>
					</div>
				</div>

				<div class="products-widget-slick" data-nav="#slick-nav-5">
					<div>
						{% for product in products|slice:":3" %}
						<!-- product widget -->
						<div class="product-widget">
							<div class="product-img">
								{% if product.image and product.image.url %}
									<img src="{{ product.image.url }}" alt="{{ product.name }}">
								{% else %}
									<img src="{% static 'img/default-product.jpg' %}" alt="{{ product.name }}">
								{% endif %}
							</div>
							<div class="product-body">
								<p class="product-category">{{ product.category.name }}</p>
								<h3 class="product-name">
									<a href="{% url 'product_detail' product.slug %}">{{ product.name }}</a>
								</h3>
								<h4 class="product-price">
									{% if product.discount_price %}
										৳{{ product.discount_price }} <del class="product-old-price">৳{{ product.price }}</del>
									{% else %}
										৳{{ product.price }}
									{% endif %}
								</h4>
							</div>
						</div>
						<!-- /product widget -->
						{% endfor %}
					</div>

					<div>
						{% for product in products|slice:"3:6" %}
						<!-- product widget -->
						<div class="product-widget">
							<div class="product-img">
								{% if product.image and product.image.url %}
									<img src="{{ product.image.url }}" alt="{{ product.name }}">
								{% else %}
									<img src="{% static 'img/default-product.jpg' %}" alt="{{ product.name }}">
								{% endif %}
							</div>
							<div class="product-body">
								<p class="product-category">{{ product.category.name }}</p>
								<h3 class="product-name">
									<a href="{% url 'product_detail' product.slug %}">{{ product.name }}</a>
								</h3>
								<h4 class="product-price">
									{% if product.discount_price %}
										৳{{ product.discount_price }} <del class="product-old-price">৳{{ product.price }}</del>
									{% else %}
										৳{{ product.price }}
									{% endif %}
								</h4>
							</div>
						</div>
						<!-- /product widget -->
						{% endfor %}
					</div>
				</div>
			</div>

		</div>
		<!-- /row -->
	</div>
	<!-- /container -->
</div>
<!-- /SECTION -->

<!-- TESTIMONIALS -->
<div class="section bg-light" style="background-color: #f8f9fa; padding: 40px 0;">
    <!-- container -->
    <div class="container">
        <!-- row -->
        <div class="row">
            <div class="col-md-12">
                <div class="section-title text-center">
                    <h3 class="title">What Our Customers Say</h3>
                </div>
                
                {% if testimonials %}
                <div class="testimonials-slider">
                    {% for testimonial in testimonials %}
                    <div class="testimonial-item text-center">
                        <div style="max-width: 800px; margin: 0 auto; padding: 20px; background-color: white; border-radius: 5px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
                            {% if testimonial.image %}
                            <div class="testimonial-img" style="margin-bottom: 15px;">
                                <img src="{{ testimonial.image.url }}" alt="{{ testimonial.name }}" style="width: 80px; height: 80px; border-radius: 50%; object-fit: cover; margin: 0 auto; border: 3px solid #D10024;">
                            </div>
                            {% endif %}
                            
                            <div class="testimonial-content">
                                <p style="font-style: italic; font-size: 16px; color: #333; margin-bottom: 20px; line-height: 1.6;">
                                    "{{ testimonial.content }}"
                                </p>
                                <div class="testimonial-rating" style="margin-bottom: 10px;">
                                    {% for i in "12345" %}
                                        {% if forloop.counter <= testimonial.rating %}
                                        <i class="fa fa-star" style="color: #D10024;"></i>
                                        {% else %}
                                        <i class="fa fa-star-o" style="color: #D10024;"></i>
                                        {% endif %}
                                    {% endfor %}
                                </div>
                                <h4 style="color: #2B2D42; margin-bottom: 5px;">{{ testimonial.name }}</h4>
                                {% if testimonial.position %}
                                <p style="color: #8D99AE; font-size: 14px;">{{ testimonial.position }}</p>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                </div>
                {% endif %}
            </div>
        </div>
        <!-- /row -->
    </div>
    <!-- /container -->
</div>
<!-- /TESTIMONIALS -->

<!-- NEWSLETTER -->
<div id="newsletter" class="section">
	<!-- container -->
	<div class="container">
		<!-- row -->
		<div class="row">
			<div class="col-md-12">
				<div class="newsletter">
					<p>Sign Up for the <strong>NEWSLETTER</strong></p>
					<form id="newsletter-form">
						<input class="input" type="email" id="newsletter-email" placeholder="Enter Your Email" required>
						<button type="submit" class="newsletter-btn"><i class="fa fa-envelope"></i> Subscribe</button>
					</form>
					<div id="newsletter-message" style="margin-top: 10px; display: none;"></div>
					<ul class="newsletter-follow">
						<li>
							<a href="#"><i class="fa fa-facebook"></i></a>
						</li>
						<li>
							<a href="#"><i class="fa fa-twitter"></i></a>
						</li>
						<li>
							<a href="#"><i class="fa fa-instagram"></i></a>
						</li>
						<li>
							<a href="#"><i class="fa fa-pinterest"></i></a>
						</li>
					</ul>
				</div>
			</div>
		</div>
		<!-- /row -->
	</div>
	<!-- /container -->
</div>
<!-- /NEWSLETTER -->

		{% include 'store/footer.html' %}

		<!-- jQuery Plugins -->
		<script src="{% static 'js/jquery.min.js' %}"></script>
		<script src="{% static 'js/bootstrap.min.js' %}"></script>
		<script src="{% static 'js/slick.min.js' %}"></script>
		<script src="{% static 'js/nouislider.min.js' %}"></script>
		<script src="{% static 'js/jquery.zoom.min.js' %}"></script>
		<script src="{% static 'js/main.js' %}"></script>

		<script>
		$(document).ready(function(){
			$('.testimonials-slider').slick({
				dots: true,
				infinite: true,
				speed: 600,
				slidesToShow: 1,
				adaptiveHeight: true,
				autoplay: true,
				autoplaySpeed: 4000,
				arrows: true,
				fade: false,
				cssEase: 'ease-in-out',
				prevArrow: '<button type="button" class="slick-prev"><i class="fa fa-angle-left"></i></button>',
				nextArrow: '<button type="button" class="slick-next"><i class="fa fa-angle-right"></i></button>',
				responsive: [
					{
						breakpoint: 768,
						settings: {
							arrows: false
						}
					}
				]
			});
			
			// Initialize category tabs
			$('.section-tab-nav a[data-toggle="tab"]').on('shown.bs.tab', function(e) {
				var targetPane = $($(e.target).attr('href'));
				
				// Destroy any existing slick
				if (targetPane.find('.products-slick').hasClass('slick-initialized')) {
					targetPane.find('.products-slick').slick('unslick');
				}
				
				// Reinitialize slick
				var productSlick = targetPane.find('.products-slick');
				var nav = productSlick.attr('data-nav');
				
				productSlick.slick({
					slidesToShow: 4,
					slidesToScroll: 1,
					autoplay: true,
					infinite: true,
					speed: 300,
					dots: false,
					arrows: true,
					appendArrows: nav ? nav : false,
					responsive: [{
						breakpoint: 991,
						settings: {
							slidesToShow: 2,
							slidesToScroll: 1,
						}
					},
					{
						breakpoint: 480,
						settings: {
							slidesToShow: 1,
							slidesToScroll: 1,
						}
					}]
				});
			});
			
			// Initialize the mobile category carousel
			$('#mobile-category-carousel').carousel({
				interval: 3000
			});
		});
		</script>

		<script>
			// Function to detect Safari browser
			function isSafari() {
				return /^((?!chrome|android).)*safari/i.test(navigator.userAgent);
			}
			
			// Function to check if device is mobile
			function isMobileDevice() {
				return window.innerWidth <= 991 || 
					   /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
			}
			
			$(document).ready(function() {
				// Initialize both carousels
				$('#main-carousel, #mobile-carousel').carousel({
					interval: 5000
				});
				
				// Function to handle responsive behavior
				function handleResponsiveCarousel() {
					const isMobile = isMobileDevice();
					
					if (isMobile) {
						// On mobile, completely stop both carousels and hide them
						$('#main-carousel, #mobile-carousel').carousel('pause');
						$('#main-carousel, #mobile-carousel').css({
							'display': 'none',
							'visibility': 'hidden',
							'height': '0',
							'overflow': 'hidden'
						});
						// Add extra space since carousel is removed
						$('.shop-section').css('margin-top', '10px');
						
						// Show the mobile category carousel
						$('#mobile-category-carousel').carousel('cycle');
						$('#mobile-category-carousel').css('display', 'block');
						
						// Show mobile category header
						$('.mobile-category-header').css('display', 'flex');
					} else {
						// On desktop, restore desktop carousel and hide mobile
						$('#main-carousel').carousel('cycle');
						$('#main-carousel').css({
							'display': 'block',
							'visibility': 'visible',
							'height': 'auto',
							'overflow': 'visible'
						});
						$('#mobile-carousel').carousel('pause');
						$('#mobile-carousel').css({
							'display': 'none',
							'visibility': 'hidden'
						});
						$('#mobile-category-carousel').carousel('pause');
						$('#mobile-category-carousel').css('display', 'none');
						
						// Hide mobile category header
						$('.mobile-category-header').css('display', 'none');
					}
				}
				
				// Call immediately and on window resize
				handleResponsiveCarousel();
				$(window).on('resize', handleResponsiveCarousel);
				
				// Update cart count on page load
				updateCartCount();
				
				// Function to update cart count
				function updateCartCount() {
					$.ajax({
						url: '{% url "get_cart_count" %}',
						type: 'GET',
						success: function(data) {
							$('.cart-badge').text(data.cart_count);
						}
					});
				}
				
				// Safari-specific fixes
				if (isSafari()) {
					// Force image reload in Safari
					$('img').each(function() {
						var imgSrc = $(this).attr('src');
						if (imgSrc) {
							// Add cache-busting parameter for Safari
							if (imgSrc.indexOf('?') === -1) {
								$(this).attr('src', imgSrc + '?safari=' + new Date().getTime());
							}
						}
					});
				}
				
				// Add to cart functionality
				$('.add-to-cart-btn[data-product-id]').on('click', function() {
					const productId = $(this).data('product-id');
					
					$.ajax({
						url: '{% url "add_to_cart" 0 %}'.replace('0', productId),
						type: 'GET',
						headers: {
							'X-Requested-With': 'XMLHttpRequest'
						},
						success: function(data) {
							if (data.status === 'success') {
								// Update cart count in header
								$('.cart-badge').text(data.cart_count);
								
								// Show success message
								alert(data.message);
							}
						},
						error: function(error) {
							console.error('Error adding product to cart:', error);
							alert('Error adding product to cart');
						}
					});
				});
				
				// Add to wishlist functionality
				$('.add-to-wishlist[data-product-id]').on('click', function() {
					const productId = $(this).data('product-id');
					const $this = $(this);
					
					$.ajax({
						url: '{% url "add_to_wishlist" 0 %}'.replace('0', productId),
						type: 'GET',
						headers: {
							'X-Requested-With': 'XMLHttpRequest'
						},
						success: function(data) {
							if (data.status === 'success') {
								// Update wishlist count in header for all wishlist badges
								document.querySelectorAll('.wishlist-badge, .wishlist-qty').forEach(function(el) {
									el.textContent = data.wishlist_count;
								});
								
								// Change button appearance
								$this.find('i').removeClass('fa-heart-o').addClass('fa-heart');
								$this.find('.tooltipp').text('added to wishlist');
								
								// Show success message
								alert(data.message);
							}
						},
						error: function(error) {
							console.error('Error adding product to wishlist:', error);
							alert('Error adding product to wishlist');
						}
					});
				});
				
				// Make the View All button trigger the hamburger menu
				$(document).on('click', '.btn-view-all', function(e) {
					e.preventDefault();
					e.stopPropagation();
					
					// Get the responsive nav element
					const responsiveNav = document.getElementById('responsive-nav');
					
					// Show the menu by setting transform to 0
					if (responsiveNav) {
						responsiveNav.style.transform = 'translateX(0)';
						document.body.style.overflow = 'hidden';
					}
				});
			});
		</script>

		<script>
			// Newsletter signup functionality
			$(document).ready(function() {
				$('#newsletter-form').on('submit', function(e) {
					e.preventDefault();
					
					const email = $('#newsletter-email').val();
					const $messageDiv = $('#newsletter-message');
					
					$.ajax({
						url: '{% url "newsletter_signup" %}',
						type: 'POST',
						contentType: 'application/json',
						data: JSON.stringify({ email: email }),
						success: function(response) {
							$messageDiv.removeClass('alert-danger').addClass('alert alert-success');
							$messageDiv.text(response.message);
							$messageDiv.show();
							$('#newsletter-email').val('');
							
							// Hide message after 5 seconds
							setTimeout(function() {
								$messageDiv.fadeOut();
							}, 5000);
						},
						error: function(xhr) {
							let errorMessage = 'An error occurred. Please try again.';
							
							if (xhr.responseJSON && xhr.responseJSON.message) {
								errorMessage = xhr.responseJSON.message;
							}
							
							$messageDiv.removeClass('alert-success').addClass('alert alert-danger');
							$messageDiv.text(errorMessage);
							$messageDiv.show();
							
							// Hide message after 5 seconds
							setTimeout(function() {
								$messageDiv.fadeOut();
							}, 5000);
						}
					});
				});
			});
		</script>

	</body>
</html>